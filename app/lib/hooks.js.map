{
  "version": 3,
  "file": "hooks.js",
  "sources": [
    "/app/lib/hooks.ts"
  ],
  "sourcesContent": [
    "import { useEffect, useState } from \"react\";\n\nexport function useLocalStorage<T>(key: string, initialValue: T) {\n\tconst [value, setValue] = useState<T>(() => {\n\t\ttry {\n\t\t\tconst storedValue = localStorage.getItem(key);\n\t\t\tif (storedValue != null) {\n\t\t\t\treturn JSON.parse(storedValue);\n\t\t\t}\n\t\t} catch {\n\t\t\t// whatevs\n\t\t}\n\t\treturn initialValue;\n\t});\n\n\tuseEffect(() => {\n\t\ttry {\n\t\t\t// why is JSON.stringify(undefined) === undefined, what the fuck?\n\t\t\tlocalStorage.setItem(key, JSON.stringify(value ?? null));\n\t\t} catch (e) {\n\t\t\tconsole.error(\"localStorage machine broke\", e);\n\t\t}\n\t}, [key, value]);\n\n\tuseEffect(() => {\n\t\tconst handleStorageChange = (event: StorageEvent) => {\n\t\t\tif (event.key === key) {\n\t\t\t\tif (event.newValue == null) {\n\t\t\t\t\tsetValue(initialValue);\n\t\t\t\t} else {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tsetValue(JSON.parse(event.newValue));\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t// i guess some other tab fucked up big time\n\t\t\t\t\t\tconsole.error(\"localStorage machine broke (and some other tab is to blame)\", e);\n\t\t\t\t\t\tsetValue(initialValue);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\twindow.addEventListener(\"storage\", handleStorageChange);\n\t\treturn () => window.removeEventListener(\"storage\", handleStorageChange);\n\t}, [key, initialValue]);\n\n\treturn [value, setValue] as const;\n}\n"
  ],
  "names": [
    "useState",
    "useEffect"
  ],
  "mappings": ";AAEgB,SAAA,gBAAmB,KAAa,cAAiB;AAChE,QAAM,CAAC,OAAO,QAAQ,IAAIA,sBAAY,MAAM;AACvC,QAAA;AACG,YAAA,cAAc,aAAa,QAAQ,GAAG;AAC5C,UAAI,eAAe,MAAM;AACjB,eAAA,KAAK,MAAM,WAAW;AAAA,MAAA;AAAA,IAC9B,QACO;AAAA,IAAA;AAGD,WAAA;AAAA,EAAA,CACP;AAEDC,eAAAA,UAAU,MAAM;AACX,QAAA;AAEH,mBAAa,QAAQ,KAAK,KAAK,UAAU,SAAS,IAAI,CAAC;AAAA,aAC/C,GAAG;AACH,cAAA,MAAM,8BAA8B,CAAC;AAAA,IAAA;AAAA,EAC9C,GACE,CAAC,KAAK,KAAK,CAAC;AAEfA,eAAAA,UAAU,MAAM;AACT,UAAA,sBAAsB,CAAC,UAAwB;AAChD,UAAA,MAAM,QAAQ,KAAK;AAClB,YAAA,MAAM,YAAY,MAAM;AAC3B,mBAAS,YAAY;AAAA,QAAA,OACf;AACF,cAAA;AACH,qBAAS,KAAK,MAAM,MAAM,QAAQ,CAAC;AAAA,mBAC3B,GAAG;AAEH,oBAAA,MAAM,+DAA+D,CAAC;AAC9E,qBAAS,YAAY;AAAA,UAAA;AAAA,QACtB;AAAA,MACD;AAAA,IAEF;AACO,WAAA,iBAAiB,WAAW,mBAAmB;AACtD,WAAO,MAAM,OAAO,oBAAoB,WAAW,mBAAmB;AAAA,EAAA,GACpE,CAAC,KAAK,YAAY,CAAC;AAEf,SAAA,CAAC,OAAO,QAAQ;AACxB;"
}